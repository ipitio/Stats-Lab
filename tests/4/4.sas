/* 1 */

/* a */
DATA vars;
INPUT X Y Z;
DATALINES;
30 70 25
29 68 27
31 72 17
47 93 20
40 84 10
27 65 38
46 91 36
50 96 29
;
PROC CORR DATA = vars;
RUN;

/* b */
DATA vars;
INPUT X Y Z;
LX = LOG(X);
DATALINES;
30 70 25
29 68 27
31 72 17
47 93 20
40 84 10
27 65 38
46 91 36
50 96 29
;
PROC CORR DATA = vars;
VAR LX Y;
RUN;

/* c */
PROC REG DATA = vars ALPHA = .1;
MODEL Y = LX;
RUN;

/* d */


/* e */
PROC REG DATA = vars ALPHA = .1;
MODEL LX=Y;
PLOT PREDICTED.*LX Y*LX/ OVERLAY;
RUN;

/* 2 */

/* a */
DATA CHISQ;
INPUT EXAM $ OUTCOME $ COUNT;
DATALINES;
Low Yes 40 
Low No 100
High Yes 30
High No 130
;
PROC FREQ DATA = CHISQ;
TABLES EXAM*OUTCOME / CHISQ ALPHA = 0.01;
WEIGHT COUNT;
RUN;

/* b */


/* 3 */

/* a */
DATA MREG;
INPUT X1 X2 X3 X4 Y;
DATALINES;
34 32 44 43 283
2 20 11 9 54
1 36 17 46 77
33 45 18 34 175
22 19 16 30 135
10 50 9 49 72
16 26 2 15 61
36 41 30 23 232
42 2 48 44 322
44 44 15 11 196
;
PROC REG DATA = MREG;
MODEL Y = X1 X2 X3 X4 / noint;
RUN;

/* b */
PROC REG DATA = MREG;
MODEL Y = X1 X2 X3 X4;
RUN;

/* c */
PROC REG DATA = MREG;
MODEL Y = X1 X2 X3 X4 /selection=RSQUARE;
RUN;

/* 4 */

/* a */
DATA SCORES;
INPUT EXAM $ SCORE @@;
DATALINES;
A 570 A 530 A 540 A 535 A 585 A 537 A 590
B 555 B 512 B 510 B 520 B 510 B 512 B 570
C 512 C 518 C 555 C 502 C 510 C 520 C 516
D 505 D 508 D 512 D 520 D 543 D 523 D 517
;
PROC ANOVA DATA = SCORES;
CLASS EXAM;
MODEL SCORE = EXAM;
MEANS EXAM / ALPHA = 0.1;
RUN;

/* b */
PROC ANOVA DATA = SCORES;
CLASS EXAM;
MODEL SCORE = EXAM;
MEANS EXAM / ALPHA = 0.1 DUNCAN;
RUN;

/* c */
PROC GLM DATA = SCORES;
CLASS EXAM;
MODEL SCORE = EXAM;
CONTRAST 'A vs B and C' EXAM -2 1 1 0;
RUN;